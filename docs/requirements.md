# eBayリサーチツール開発プロジェクト 要件定義書

# 1. プロジェクト概要

**プロジェクト名**

- eBayリサーチツール開発プロジェクト

**背景・目的**

- 海外ECモール（特にeBay）において販売活動を行う事業者が、市場動向の把握や価格設定、在庫管理の効率化のために、各種データを自動的に収集・分析できる仕組みが求められている。
- 本プロジェクトは、eBay上の各種データを効率的に取得し、販売戦略の立案やリサーチ業務の自動化を実現するためのツールを開発することを目的とする。

**対象ユーザー**

- 国内外のEC販売事業者
- 海外マーケット（特にeBay）での販売拡大を検討している企業

---

# 2. システム概要

**システム全体のコンセプト**

- Googleスプレッドシートなどにリスト化されたキーワード（例：約1,000件）を入力として受け取り、自動的にeBayにアクセス、ログイン、検索を実行し、検索結果一覧ページから必要なデータ（例：価格、在庫数、出品者評価等、5〜6項目程度）を抽出、最終的にデータを整形してCSVまたはスプレッドシートへ出力するツール。

**連携概要**

- **入力元**：Googleスプレッドシート（またはExcelファイル）からキーワードをインポート
- **eBay連携**：eBayへの自動ログイン、検索実行および結果ページのスクレイピング
- **出力先**：抽出したデータのCSV出力、もしくはGoogleスプレッドシートへの書き出し

**利用するプラットフォームや主要な外部サービス**

- eBay（https://www.ebay.com/）
- Googleスプレッドシート（またはExcelファイルとしての入力/出力対応）
- ※【補完事項】：必要に応じて、eBay APIの利用も検討する（API利用の可否はeBayの利用規約、またはユーザーの要望に応じて決定）

---

# 3. 機能要件

### 【検索機能】

1. **キーワードのインポート**
    - Googleスプレッドシートとの連携機能（またはCSVファイルの読み込み機能）
    - インポートされた約1,000件のキーワードを順次処理する仕組み
2. **eBayへのログイン機能**
    - 自動ログイン機能（Webスクレイピングまたは、可能であればeBay APIを利用した認証）
    - 【補完事項】：eBay側のセキュリティ要件やCAPTCHA対策については、今後詳細な検証が必要
3. **検索窓への自動入力と検索実行**
    - インポートされた各キーワードを、指定されたUI（例：テラピークのような検索窓）に自動入力
    - 検索実行後、検索結果ページを取得する機能
4. **条件絞り込み機能**
    - 検索実行時に必要な条件（例：価格帯、カテゴリ、出品形式など）の絞り込み
    - 条件の設定は初期は固定の仮設定とし、将来的なユーザー設定項目として拡張可能とする
    - 【補完事項】：絞り込み条件の詳細仕様は次回ヒアリングで確認

### 【データ取得・出力機能】

1. **検索結果からのデータ抽出**
    - 検索結果一覧ページから、必要とされる各項目（例：価格、在庫数、出品者評価、入札数、送料、出品終了までの残り時間など）を抽出
    - 数値データやテキストデータの適切な型変換
2. **データの整形および出力**
    - 取得したデータの整形処理（例：不要な文字列の除去、フォーマット統一）
    - 最終的な出力形式：CSVファイルもしくはGoogleスプレッドシートへの書き出し
    - ログの出力機能：処理中のエラー情報、取得件数、実行時間などの記録

---

# 4. 非機能要件

1. **パフォーマンス**
    - 1,000件のキーワードに対して、全体の検索とデータ抽出処理を60分以内に完了する（目安）
    - 並列処理や非同期処理を利用し、レスポンスの高速化を図る
2. **セキュリティ**
    - eBayのログイン情報や認証情報は、安全な方法（例：暗号化保存、環境変数管理）で管理する
    - スクレイピング時のアクセス頻度の制御（例：リクエスト間の待機時間設定、IPブロック回避策）
    - API利用の場合、通信のSSL/TLS暗号化の徹底
3. **可用性**
    - ツールの稼働率を高く保つためのエラーハンドリング機能（例：リトライ機構、ログ出力、障害発生時の通知）
    - システムダウン時の迅速な復旧を目標とする
4. **保守性・拡張性**
    - コードのモジュール化、リファクタリングを容易にする設計
    - 将来的なeBay API対応、または他のECモール（Amazon、楽天市場など）への拡張性を考慮したアーキテクチャ設計

---

# 5. 制約条件・前提条件

1. **使用する技術やツール**
    - プログラミング言語：Python（例：playwright、BeautifulSoup、Requestsライブラリなどの利用を想定）
    - スクレイピングライブラリ：playwrightやScrapyなど、プロジェクトの要求に応じたツール選定
    - Google API（Googleスプレッドシートとの連携の場合）：Google Sheets APIの利用
2. **プロジェクトの予算・納期（仮設定）**
    - 【補完事項】：具体的な予算はヒアリングにより決定するが、中規模開発案件として予算○○万円～、納期は初回打合せ後の約2～3ヶ月を想定
3. **業務上の制約**
    - eBayの利用規約に基づくスクレイピングの制限
    - ログインおよびスクレイピングに関して、eBay側のセキュリティ対策（CAPTCHA、アカウント一時停止リスクなど）を十分に考慮する必要がある

---

# 6. リスク分析と対応策

1. **法的リスク**
    - eBayの利用規約に抵触する可能性のあるスクレイピングについて、事前に利用規約の精査および必要に応じた利用申請を検討する
    - 【補完事項】：法的アドバイスが必要な場合は、専門の法務部門と連携
2. **技術的リスク**
    - ログイン失敗：多要素認証やCAPTCHA発生時の自動対応の検討、エラー発生時は手動介入を促す設計
    - データ取得エラー：ページ構造変更等によるスクレイピング失敗に対し、エラー検知とリトライ、ログ出力による障害対応
    - スクレイピング速度の制御：過剰なリクエストによるIPブロック対策として、リクエスト間隔の調整やプロキシの利用を検討
3. **今後の仕様変更への対応**
    - eBayのサイト構造変更、API仕様変更に迅速に対応できるよう、モジュール化・抽象化した設計を採用
    - ユーザーからのフィードバックをもとに、機能拡張や条件変更が容易にできる設計とする

---

# 7. スケジュール・マイルストーン

1. **初回打合せ・要件定義完了**
    - 初回ミーティングにて、全体仕様、利用環境、セキュリティ要件等の確認
    - ドラフト要件定義書のレビューと合意（目安：1～2週間）
2. **試作版開発（プロトタイプ）**
    - 基本機能（ログイン、キーワード処理、検索実行、データ抽出）の実装
    - 内部テスト、初期デモ実施（目安：3～4週間）
3. **システムテスト・ユーザーテスト**
    - 試作版を基に、全体の機能テスト、パフォーマンステスト、セキュリティテスト
    - ユーザーフィードバックの収集と改善（目安：2～3週間）
4. **最終納品**
    - 改善後の最終版を納品、マニュアル、運用方法の説明
    - 受入テスト合格後、正式運用開始（目安：1～2週間）

---

# 8. 今後のステップ

1. **次回ヒアリングで確認すべき詳細項目**
    - キーワードリストのフォーマット、スプレッドシートとの連携方法（Google Sheets API利用か、CSVインポートか）
    - eBayログインに関する詳細要件（2段階認証、CAPTCHA対応の必要性）
    - 検索結果の項目詳細と、絞り込み条件の具体的な設定（例：カテゴリ、価格帯、出品形式など）
    - システムのパフォーマンス要件の具体的な数値目標
    - ユーザーインターフェース（UI）に関する要望（例：シンプルなUI、ログ表示、エラーメッセージの詳細）
2. **追加資料の反映計画**
    - ツールの初期イメージ図、ワイヤーフレームの作成
    - 各機能の詳細仕様書およびAPI連携に関する補足資料の準備
    - プロジェクト進行に伴うリスク管理計画書、テスト計画書の整備

---

**【補足】**

- 本要件定義書は初期情報および業界標準の知見に基づいたドラフトです。
- ヒアリングや追加資料の提供により、詳細な仕様や前提条件、制約条件の更新が必要となります。
- 今後、ユーザーおよび関係者との協議を経て、柔軟かつ実現可能なシステム仕様として最終決定していく予定です。